---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

// è·å–æ‰€æœ‰åšå®¢æ–‡ç« 
const posts = await getCollection('blog');
const sortedPosts = posts.sort((a, b) => 
  new Date(b.data.pubDate).getTime() - new Date(a.data.pubDate).getTime()
);
---

<BaseLayout title="å…³äº - Josephine's Blog">
  <!-- ä¸ªäººä»‹ç»åŒºåŸŸ -->
  <section class="mb-16">
    <h1 class="text-3xl font-semibold mb-2">å…³äº</h1>
    <p class="text-dim text-sm italic mb-8">Josephine çš„ä¸ªäººä¸»é¡µ</p>

    <div class="space-y-4 text-gray-300 leading-relaxed">
      <p>
        Hello! I'm <a href="https://github.com" class="border-b border-dashed border-gray-600 hover:border-gray-400 transition-colors">ğŸ‘‹ Josephine</a>, 
        ç›®å‰æ˜¯ä¸€åå¼€å‘è€…ï¼Œçƒ­çˆ±ç¼–ç¨‹ä¸åˆ›é€ ã€‚
      </p>
      <p>
        æˆ‘æ­£åœ¨å­¦ä¹  
        <span class="inline-flex items-center gap-1 bg-gray-800 px-2 py-0.5 rounded text-sm">â˜• Java</span> å’Œ 
        <span class="inline-flex items-center gap-1 bg-gray-800 px-2 py-0.5 rounded text-sm">ğŸ”· Golang</span>ï¼Œ
        è‡´åŠ›äºæˆä¸ºä¸€åä¼˜ç§€çš„åç«¯å·¥ç¨‹å¸ˆã€‚
      </p>
      <p>
        æˆ‘ä¹Ÿå¯¹ 
        <span class="inline-flex items-center gap-1 bg-gray-800 px-2 py-0.5 rounded text-sm">ğŸŸ¨ JavaScript</span>ã€
        <span class="inline-flex items-center gap-1 bg-gray-800 px-2 py-0.5 rounded text-sm">ğŸ”µ TypeScript</span> å’Œ 
        <span class="inline-flex items-center gap-1 bg-gray-800 px-2 py-0.5 rounded text-sm">ğŸ¦€ Rust</span> 
        å¾ˆæ„Ÿå…´è¶£ï¼Œå¸Œæœ›èƒ½ä¸ºå¼€æºç¤¾åŒºåšå‡ºè´¡çŒ® ğŸŒŸã€‚
      </p>
      <p>
        æˆ‘çƒ­è¡·äºåˆ›å»º Web åº”ç”¨ ğŸ–¥ï¸ï¼Œä»å‰ç«¯ âœ¨ åˆ°åç«¯å¼€å‘ âš™ï¸ï¼Œå†åˆ° DevOps ğŸš€ã€‚
      </p>
    </div>
  </section>

  <!-- å†…å®¹å¯¼èˆªå¡ç‰‡ -->
  <section class="mb-12">
    <p class="text-dim mb-6">æˆ‘åœ¨è¿™ä¸ªç½‘ç«™ä¸Šåˆ†äº«å†…å®¹ ğŸŒ ï¼š</p>
    
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3">
      <a href="/blog" class="link-card">
        <span class="i-lucide-newspaper text-lg opacity-60"></span>
        <span>Blog</span>
      </a>
      <a href="/projects" class="link-card">
        <span class="i-lucide-folder-git-2 text-lg opacity-60"></span>
        <span>Projects</span>
      </a>
      <a href="/friends" class="link-card">
        <span class="i-lucide-users text-lg opacity-60"></span>
        <span>Friends</span>
      </a>
      <a href="/shorts" class="link-card">
        <span class="i-lucide-pen-line text-lg opacity-60"></span>
        <span>Shorts</span>
      </a>
      <a href="/life" class="link-card">
        <span class="i-lucide-heart text-lg opacity-60"></span>
        <span>Life</span>
      </a>
      <a href="/tech" class="link-card">
        <span class="i-lucide-code-2 text-lg opacity-60"></span>
        <span>Tech Stack Notes</span>
      </a>
      <a href="/today" class="link-card">
        <span class="i-lucide-calendar text-lg opacity-60"></span>
        <span>Today News</span>
      </a>
    </div>
  </section>

  <!-- æ‘„å½±åŒºåŸŸ -->
  <section class="mb-12">
    <p class="text-dim mb-6">æˆ‘ä¹Ÿå–œæ¬¢æ‘„å½± ğŸ“¸ ï¼š</p>
    
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
      <a href="/photos" class="link-card">
        <span class="i-lucide-camera text-lg opacity-60"></span>
        <span>Photography</span>
      </a>
      <a href="/gallery" class="link-card">
        <span class="i-lucide-image text-lg opacity-60"></span>
        <span>Photo Gallery</span>
      </a>
    </div>
  </section>

  <!-- è”ç³»æ–¹å¼ -->
  <section class="mb-12">
    <p class="text-dim mb-4">æ‰¾åˆ°æˆ‘ï¼š</p>
    <div class="flex flex-wrap gap-4">
      <a href="https://github.com" target="_blank" class="nav-icon flex items-center gap-2 text-sm">
        <span class="i-lucide-github"></span>
        <span class="opacity-60 hover:opacity-100 transition-opacity">GitHub</span>
      </a>
      <a href="https://twitter.com" target="_blank" class="nav-icon flex items-center gap-2 text-sm">
        <span class="i-lucide-twitter"></span>
        <span class="opacity-60 hover:opacity-100 transition-opacity">Twitter</span>
      </a>
      <a href="mailto:your@email.com" class="nav-icon flex items-center gap-2 text-sm">
        <span class="i-lucide-mail"></span>
        <span class="opacity-60 hover:opacity-100 transition-opacity">Email</span>
      </a>
    </div>
  </section>

  <!-- èµåŠ© -->
  <section>
    <p class="text-dim mb-4">å¦‚æœä½ è§‰å¾—æˆ‘çš„å†…å®¹æœ‰å¸®åŠ©ï¼Œæ¬¢è¿æ”¯æŒæˆ‘ï¼š</p>
    <div class="flex gap-3">
      <a href="/sponsor" class="link-card">
        <span class="i-lucide-heart text-red-500"></span>
        <span>Support My Blog</span>
      </a>
    </div>
  </section>

  <!-- æœ€æ–°æ–‡ç«  -->
  {sortedPosts.length > 0 && (
    <section class="mt-16 pt-8 border-t border-gray-800">
      <h2 class="text-xl font-medium mb-6 flex items-center gap-2">
        <span class="i-lucide-sparkles opacity-60"></span>
        éšæœºæ¨è
      </h2>
      <div class="space-y-3">
        {sortedPosts.slice(0, 3).map((post) => (
          <a href={`/blog/${post.slug}`} class="block group">
            <div class="flex-between py-2">
              <span class="group-hover:opacity-100 opacity-80 transition-opacity">{post.data.title}</span>
              <span class="text-sm text-dimmer">{post.data.pubDate.toLocaleDateString('zh-CN')}</span>
            </div>
          </a>
        ))}
      </div>
    </section>
  )}
</BaseLayout>
