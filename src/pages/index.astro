---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

const posts = await getCollection('blog');
const latestPosts = posts
  .sort((a, b) => new Date(b.data.pubDate).getTime() - new Date(a.data.pubDate).getTime())
  .slice(0, 3);
---

<BaseLayout title="The Jo Journey">
  <!-- Hero Section - Tesla 风格 -->
  <section class="min-h-[60vh] flex flex-col justify-center -mt-12">
    <div class="space-y-6">
      <h1 class="text-5xl md:text-7xl font-semibold tracking-tight leading-none">
        Josephine
      </h1>
      <p class="text-xl md:text-2xl text-white/50 font-light max-w-xl">
        全栈开发者，专注于 AI 应用开发与现代 Web 技术
      </p>
      <div class="flex items-center gap-4 pt-4">
        <a href="/blog" class="px-6 py-3 bg-white text-black text-sm font-medium rounded-full hover:bg-white/90 transition-colors">
          阅读博客
        </a>
        <a href="/about" class="px-6 py-3 text-white/70 text-sm font-medium hover:text-white transition-colors">
          了解更多 →
        </a>
      </div>
    </div>
  </section>

  <!-- Latest Posts -->
  <section class="py-20 border-t border-white/5">
    <div class="flex items-center justify-between mb-12">
      <h2 class="text-2xl font-semibold">最新文章</h2>
      <a href="/blog" class="text-sm text-white/50 hover:text-white transition-colors">
        查看全部 →
      </a>
    </div>
    
    <div class="space-y-1">
      {latestPosts.map((post, index) => (
        <a href={`/blog/${post.slug}`} class="group block py-6 border-b border-white/5 hover:border-white/10 transition-colors">
          <div class="flex items-start justify-between gap-8">
            <div class="flex-1">
              <h3 class="text-xl font-medium mb-2 group-hover:text-white/80 transition-colors">
                {post.data.title}
              </h3>
              <p class="text-white/40 text-sm line-clamp-1">
                {post.data.description}
              </p>
            </div>
            <time class="text-sm text-white/30 font-mono shrink-0">
              {post.data.pubDate.toLocaleDateString('zh-CN')}
            </time>
          </div>
        </a>
      ))}
    </div>
  </section>

  <!-- Projects Preview -->
  <section class="py-20 border-t border-white/5">
    <div class="flex items-center justify-between mb-12">
      <h2 class="text-2xl font-semibold">项目</h2>
      <a href="/projects" class="text-sm text-white/50 hover:text-white transition-colors">
        查看全部 →
      </a>
    </div>
    
    <div class="grid md:grid-cols-2 gap-6">
      <a href="https://github.com/hollipembletoncrf40-sudo/the-jo-journey" target="_blank" class="group block p-8 rounded-3xl bg-white/3 hover:bg-white/5 transition-colors">
        <div class="flex items-start justify-between mb-4">
          <span class="i-lucide-folder-git-2 text-2xl text-white/40"></span>
          <span class="i-lucide-arrow-up-right text-white/20 group-hover:text-white/40 transition-colors"></span>
        </div>
        <h3 class="text-lg font-medium mb-2">The Jo Journey</h3>
        <p class="text-sm text-white/40">个人博客系统，Astro + UnoCSS</p>
      </a>
      
      <a href="/projects" class="group block p-8 rounded-3xl bg-white/3 hover:bg-white/5 transition-colors">
        <div class="flex items-start justify-between mb-4">
          <span class="i-lucide-plus text-2xl text-white/40"></span>
          <span class="i-lucide-arrow-right text-white/20 group-hover:text-white/40 transition-colors"></span>
        </div>
        <h3 class="text-lg font-medium mb-2">更多项目</h3>
        <p class="text-sm text-white/40">查看我的所有开源项目</p>
      </a>
    </div>
  </section>
</BaseLayout>
